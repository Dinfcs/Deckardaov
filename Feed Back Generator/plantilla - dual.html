<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Feedback</title>
    <style>
        body {
            background-color: #1f1f1f;
            color: #f5f5f5;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .container {
            display: flex;
            justify-content: space-between;
            background-color: #2a2a2a;
            padding: 30px;
            border-radius: 10px;
            width: 80%;
            max-width: 1200px;
            gap: 50px;
        }

        .form-section, .result-section {
            width: 48%;
        }

        .form-section h1, .form-section label {
            color: #00c9ff;
        }

        select, input, textarea {
            width: 100%;
            box-sizing: border-box;
            padding: 10px;
            margin: 10px 0;
            background-color: #2f2f2f;
            color: #f5f5f5;
            border: 1px solid #00c9ff;
            border-radius: 5px;
            font-size: 16px;
        }

        textarea {
            height: 80px;
        }

        button {
            width: 100%;
            padding: 15px 20px;
            font-size: 18px;
            font-weight: bold;
            background-color: #00c9ff;
            color: #1f1f1f;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #008fcc;
        }

        .result-section {
            background-color: #1f1f1f;
            padding: 20px;
            border-radius: 10px;
            text-align: justify;
        }

        h2 {
            color: #00c9ff;
        }

        a {
            color: #00c9ff;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Secci√≥n del formulario -->
        <div class="form-section">
            <h1>Generador de Feedback</h1>

            <label for="language">Selecciona el idioma:</label>
            <select id="language">
                <option value="es">Espa√±ol</option>
                <option value="en">Ingl√©s</option>
            </select>

            <label for="template">Selecciona una plantilla:</label>
            <select id="template">
                <option value="">Selecciona una plantilla</option>
                <option value="wrong-structure">Wrong Structure</option>
                <option value="bad-apn">Bad APN</option>
                <option value="missing-address-override">Missing Address Override</option>
                <option value="missing-unit-box">Missing Unit Box</option>
                <option value="nmf-address-override">Do Not Clear Previous Address Override In An NMF Listing</option>
            </select>

            <label for="nombre">Nombre del destinatario:</label>
            <input type="text" id="nombre" placeholder="Nombre del destinatario">
            
            <label for="proyecto">Nombre del proyecto:</label>
            <input type="text" id="proyecto" placeholder="Nombre del proyecto">
            
            <label for="link">Link del Listing (URL):</label>
            <input type="url" id="link" placeholder="https://cyborg.deckard.com/listing/NC/avery/_/STR-AIR-1226751626855273525">

            <div id="extra-fields">
                <!-- Los campos adicionales aparecer√°n aqu√≠ seg√∫n la plantilla -->
            </div>

            <button onclick="generarFeedback()">Generar Feedback</button>
        </div>

        <!-- Secci√≥n del resultado -->
        <div class="result-section">
            <h2>Resultado</h2>
            <div class="result" id="resultado">
                El feedback generado aparecer√° aqu√≠.
            </div>
        </div>
    </div>

    <script>
        const extraFields = document.getElementById('extra-fields');
        const resultado = document.getElementById('resultado');

        // Manejar la selecci√≥n de la plantilla para mostrar los campos correspondientes
        document.getElementById('template').addEventListener('change', function () {
            extraFields.innerHTML = '';
            const selectedTemplate = this.value;
            
            // Generar campos espec√≠ficos seg√∫n la plantilla seleccionada
            if (selectedTemplate === 'wrong-structure') {
                extraFields.innerHTML += `
                    <label for="wrong-structure">Estructura incorrecta:</label>
                    <select id="wrong-structure">
                        <option value="Main">Main</option>
                        <option value="Adu">Adu</option>
                        <option value="U1OM">U1OM</option>
                        <option value="Rv">Rv</option>
                        <option value="Resort">Resort</option>
                        <option value="Timeshared">Time shared</option>
                        <option value="Event Space">Event Space</option>
                        <option value="Other">Other</option>
                        <option value="Unknown">Unknown</option>
                    </select>

                    <label for="correct-structure">Estructura correcta:</label>
                    <select id="correct-structure">
                        <option value="Main">Main</option>
                        <option value="Adu">Adu</option>
                        <option value="U1OM">U1OM</option>
                        <option value="Rv">Rv</option>
                        <option value="Resort">Resort</option>
                        <option value="Timeshared">Time shared</option>
                        <option value="Event Space">Event Space</option>
                        <option value="Other">Other</option>
                        <option value="Unknown">Unknown</option>
                    </select>
                `;
            } else if (selectedTemplate === 'bad-apn') {
                extraFields.innerHTML += `
                    <label for="motivos">Motivos:</label>
                    <textarea id="motivos" placeholder="Introduce los motivos por los que piensas que la APN est√° mal"></textarea>
                `;
            } else if (selectedTemplate === 'missing-address-override') {
                extraFields.innerHTML += `
                    <label for="fuente">Fuente de informaci√≥n:</label>
                    <input type="text" id="fuente" placeholder="Fuente de informaci√≥n (RP, LB, etc.)">
                `;
            } else if (selectedTemplate === 'missing-unit-box') {
                extraFields.innerHTML += `
                    <label for="unitBox">Unit Box:</label>
                    <input type="text" id="unitBox" placeholder="Unit Box no completado">
                `;
            } 
        });

        // Generar el feedback seg√∫n la plantilla seleccionada y los datos del usuario
        function generarFeedback() {
            const nombre = document.getElementById('nombre').value;
            const proyecto = document.getElementById('proyecto').value;
            const link = document.getElementById('link').value;
            const template = document.getElementById('template').value;
            const language = document.getElementById('language').value; // Obtener el idioma seleccionado

            let feedback = '';
            if (template === 'wrong-structure') {
                const wrongStructure = document.getElementById('wrong-structure').value;
                const correctStructure = document.getElementById('correct-structure').value;

                if (language === 'es') {
                    feedback = `¬°Hola ${nombre}! Espero que est√©s teniendo un buen d√≠a. Hoy estoy realizando QA aleatorio y encontr√© <a href="${link}" target="_blank">esta propiedad tuya</a> en ${proyecto}. Hiciste un buen trabajo identificando la propiedad, sin embargo not√© que la mapeaste como ${wrongStructure}, cuando en realidad es ${correctStructure}. Esto lo identifiqu√© a trav√©s de los registros p√∫blicos y las im√°genes a√©reas. Te recomiendo revisarlo m√°s a detalle una pr√≥xima vez. ¬°Muchas Gracias!`;
                } else {
                    feedback = `Hello ${nombre}, I hope you're having a good day! Today I was doing random QA and found <a href="${link}" target="_blank">this listing of yours</a> in ${proyecto}. You did a great job identifying the property, but I noticed you mapped it as ${wrongStructure}, when in reality it should be ${correctStructure}. I identified this through public records and aerial images. Please consider reviewing it more carefully next time. Thank you!`;
                }
            } else if (template === 'bad-apn') {
                const motivos = document.getElementById('motivos').value;

                if (language === 'es') {
                    feedback = `Hola ${nombre}, ¬°espero que todo est√© yendo bien! ü§ó Hoy estoy realizando QA aleatorio y me encontr√© con <a href="${link}" target="_blank">esta propiedad</a> en ${proyecto}. Not√© que la APN parece estar mal porque ${motivos}. Esto lo verifiqu√© con registros p√∫blicos. Revisa esta informaci√≥n cuando tengas la oportunidad. Gracias por tu atenci√≥n.`;
                } else {
                    feedback = `Hello ${nombre}, I hope all is going well! ü§ó Today I was doing random QA and I came across <a href="${link}" target="_blank">this listing</a> in ${proyecto}. I noticed that the APN seems to be wrong because ${motivos}. I verified this with public records. Please review this information when you have the chance. Thank you for your attention.`;
                }
            }

            // Mostrar el feedback generado en la secci√≥n de resultado
            resultado.innerHTML = feedback;
        }
    </script>
</body>
</html>
